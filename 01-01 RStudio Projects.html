<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head>
	<title></title>
	<meta charset="UTF-8">
	<script type="text/javascript"> document.write('<'+'!--'); </script>
       <link rel="stylesheet" type="text/css" href="/content/DEVELOPMENT/2018/courses/DEV-belinsky-2018-BackendTest/Programming/Release/editor.css">
    <!-- -->
	<script>
const D2LMathML="";
		var scriptFile = document.createElement('script');
		scriptFile.src = "https://cdn.jsdelivr.net/gh/QFCatMSU/OnlineClassBackEnd/module.js";
		document.getElementsByTagName('head')[0].appendChild(scriptFile);
	</script>
</head>

<body>
<p class="previousLesson">Introduction and Syllabus</p>
<p class="nextLesson">Components</p>
<h1 class="title" id="title">01-01: RStudio Projects and GGPlot Setup</h1>
<h2>Purpose</h2>
<ul>
<li>Installation of software and packages needed for class</li>
<li>Execute, using the Source button, an R script with GGPlots</li>
<li>Explain the components of RStudio</li>
<li>Set up an RStudio Project -- this is where all your work for class will go</li>
</ul>
<h3>New R version</h3>
<p>The class now uses R version 4.X, which was released in April 2020. R has matured and major version changes cause far fewer problems than in the past and if you are still using R version 3.X then you will probably be OK in this class. However, I would recommend moving to 4.X soon because 3.X is no longer being updated.&nbsp; <em class="ref" id="r-versionChanges">Here is a list of changes from version 3.X to 4.X that might affect you</em>.</p>
<p class="note"></p>
<p class="">A new major R version means you will have to reinstall packages.&nbsp; <em class="ref" id="r-packages">RStudio makes it fairly easy to install packages</em>.</p>
<p class=""></p>
<p class="note">Note: images in this lesson might still reflect 3.X -- it is time consuming to replace images!</p>
<h2>Viewing file extensions</h2>
<p>By default, Windows and Mac hides file extensions from you (e.g., your Word document file is listed in the file manager as <em><strong>stuff</strong> </em>instead of <em><strong>stuff.docx</strong></em>).&nbsp; This is not convenient when you are programming as you are working with many file types (e.g., *.txt, *.r, *.csv) and, many times, the only difference between the name of two files is the extension.&nbsp; For instance, you might have two files called <em><strong>weather.r</strong></em> and <em><strong>weather.csv</strong> </em>in your folder -- without file extension they are both listed as <strong>weather</strong>.&nbsp;&nbsp;</p>
<h3>Viewing file extensions in Windows</h3>
<p>This feature is a bit buried in Windows!</p>
<p></p>
<p>To view extensions:</p>
<ul>
<li>Open any <em><strong>File Explorer</strong> </em>window (i.e., your folder viewer)</li>
<li>In menu bar, click <em><strong>View</strong> </em>-&gt; <em><strong>Options</strong> </em>-&gt; <em><strong>Change folder and search options</strong></em></li>
<li>In <em><strong>Folder Opti</strong><strong>on</strong><strong>s</strong></em> window (<em class="ref" id="r-folderOptions">fig ##</em>), go to the <em><strong>View</strong> </em>tab</li>
<li>Uncheck <em class="hl">Hide extensions for known file types</em></li>
<li>Also recommended: check <em class="hl">Show hidden files, folder, and drives</em></li>
<li>Click <em><strong>OK</strong></em></li>
</ul>
<p></p>
<p><img src="../Images/01-FileExtensions1.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="folderOptions">Change settings to view all file extensions on Windows</h5>
<h3>Viewing file extensions in Mac</h3>
<ul>
<li>Open <em><strong>Finder</strong></em></li>
<li>Click on <em><strong>Finder</strong> </em>-&gt;<em><strong> Preferences...</strong></em></li>
<li>In <em><strong>Finder Preferences</strong></em> window click on the <em><strong>Advanced</strong> </em>tab</li>
<li>Check <em class="hl">Show all filename extensions</em></li>
</ul>
<p></p>
<p><img src="../Images/01-FileExtensionsMac.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5>Change settings to view all file extensions on a Mac</h5>
<h2>Install software on your computer</h2>
<p>We are going to install two programs on your computer: <strong>R and</strong> <strong>RStudio</strong><strong></strong>. R is a programming language and RStudio provides a structured environment for the R programming language, similar to the way Microsoft Word provides a structured environment for text editing. RStudio is patterned on other popular programming environments like <a href="https://visualstudio.microsoft.com/" target="_blank" rel="noopener">Microsoft's Visual Studio</a>.</p>
<p></p>
<p class="note">Note: Even if you already have R and RStudio installed, it is a good idea to verify you have the latest version.</p>
<p></p>
<p>Installing the programs:</p>
<ol>
<li><strong>Install (or update) R</strong>:<br>The <a href="https://cran.r-project.org/bin/windows/base/" target="_blank" rel="noopener noreferrer">R for Windows download is here</a>. Click on <em><strong>Download R 4.#.# for Windows</strong></em>.<br>The <a href="https://cran.r-project.org/bin/macosx/" target="_blank" rel="noopener noreferrer">R for Mac download is here</a>.&nbsp; Click on <em><strong>R-4.#.#.pkg</strong></em> on the left side of the page.<br><span class="hl"><br>Open the file you downloaded and use the default installation options</span><br><br>And for those of you using Linux -- the&nbsp;<a href="https://cran.r-project.org/bin/linux/" target="_blank" rel="noopener noreferrer">R for Linux download instructions are here.</a>&nbsp;&nbsp;
<p></p>
</li>
<li><strong>Install (or update) RStudio</strong>:<br>You can download the<a href="https://www.rstudio.com/products/rstudio/download/#download" target="_blank" rel="noopener"> RStudio Installer</a> here. <br>Download the appropriate file for your computer under <strong>Installers</strong>, open the file, and use the default installation options.<br><em class="note"></em><em class="note"><br>You can also update RStudio by clicking <strong>Help</strong> -&gt; <strong>Check for Updates</strong></em></li>
</ol>
<h3 id="mac">Special instructions for Mac users</h3>
<p>For Mac users there are some extra complexities:</p>
<ol>
<li>You might be asked to install <strong>Command Line Developer Tools </strong>while installing RStudio.<strong>&nbsp; </strong>Go ahead and install the developer tools.<br><br></li>
<li>The download for RStudio is called <em><strong>RStudio-1.#.###.dmg</strong></em>.&nbsp; Double-clicking the file will open the window below (<em class="ref" id="r-dmg">fig ##</em>).&nbsp; In the window, drag the RStudio file to the Applications folder<br><img src="../Images/GGP-01-01-MacDmgApp.PNG" alt="Opening RStudio DMG file" class="fs">&nbsp;
<h5 id="dmg">Opening RStudio DMG file<br><br></h5>
</li>
<li>After installation, <strong>Unmount the RStudio device </strong>by clicking the Eject button -- highlighted below&nbsp;(<em id="r-unmount" class="ref">fig ##</em>)</li>
</ol>
<p style="padding-left: 30px;"><img src="../Images/GGP-01-01-MacUnmount.PNG" alt="Unounting the RStudio drive (very important!)" class="fs"></p>
<h5 class="" id="unmount" style="padding-left: 30px;">Unmounting the RStudio device (very important!)</h5>
<h3>Installing the GGPlot2 package</h3>
<p>The package, <em><strong>GGPlot2</strong></em>, does not come with R or RStudio -- so we are going to install the <em><strong>GGPlot2 </strong></em>package in RStudio.</p>
<p></p>
<p>To install the package <em><strong>GGPlot2 </strong></em>using RStudio (<em class="ref" id="r-package">fig ##</em>):</p>
<ol>
<li>Click <em><strong>Tools</strong> </em>-&gt;<em><strong> Install Packages...</strong></em></li>
<li>In the <em><strong>Install Packages</strong></em> window, type <strong>GGPlot2</strong> in the <em><strong>Packages</strong> </em>textbox</li>
<li>Click <em><strong>Install</strong></em></li>
</ol>
<p><em><strong></strong></em></p>
<p><em><strong>GGPlot2</strong> </em>requires many other packages (its dependencies) -- and RStudio will install those packages along with GGPlot2.&nbsp; Be patient, as this could take a little time. <em><strong></strong></em></p>
<p></p>
<p><img src="../Images/GGP-01-01-InstallGGPlot.PNG" alt="" class="fs"></p>
<h5 class="" id="package">Installing the GGPlot2 Package in RStudio</h5>
<p></p>
<p class="ref" id="r-packages">Extension: other ways to install packages in RStudio</p>
<h2>RStudio Projects</h2>
<p>Most of the work you will do in R involves multiple scripts and data files.&nbsp; This means there needs to be a folder structure to keep your files organized and allow your R scripts to link to other files.&nbsp; RStudio Projects set a root folder of your project as the working directory for all R scripts files within the project.&nbsp; Practically, this means RStudio Projects avoid the need to set the working directory, using <strong></strong><em><strong>setwd()</strong></em>, and are much easier to share or put online (e.g., GitHub).</p>
<p></p>
<p>The steps for creating an RStudio Project are:</p>
<ol>
<li>Create a folder on your computer, which will be the <span class="hl">Root Folder </span>of your project, and add subfolders to it.<br><em class="note">Note: <strong>Root Folder</strong> is a description of the folder&nbsp; -- you can name the folder whatever you want.</em></li>
<li>Save files in the folders you just created.</li>
<li>In RStudio, link a new RStudio Project to the Root Folder.</li>
</ol>
<h3>Create a Root Folder with subfolders</h3>
<p>The first thing you need to do is create a folder on your computer that will hold all the material for this class. This folder will be the <strong>Root Folder</strong> for all class material -- the name and location of the folder is up to you and both can easily be changed later.&nbsp; In <em class="ref" id="r-classFolder">fig ##</em>, I called the folder <em><strong>GGPlotRoot</strong></em>.&nbsp; Inside the <strong>Root Folder</strong>, add two subfolders: <em><strong>data</strong> </em>and <em><strong>s</strong><strong><em>c</em>ripts</strong></em>.&nbsp;&nbsp;<br><br></p>
<p><img src="../Images/GGP-01-01-ClassFolder.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="classFolder">My Class Folder, called <em><strong>GGPlotRoot</strong></em>, and its subfolders <strong>data</strong> and <strong>scripts</strong></h5>
<h3>Add files to the Root Folder</h3>
<p>We are going to download three files and save them to the <strong>Root Folder</strong> and its subfolders:</p>
<ol>
<li>The <a href="https://github.com/QFCatMSU/GGPlot-Class-Material/raw/master/Class%20Project%20Rubric.docx" target="_self" class="download">Class Project Rubric.docx </a>-- save this directly to the <strong>Root Folder</strong></li>
<li>A&nbsp;<a href="https://cdn.jsdelivr.net/gh/QFCatMSU/GGPlot-Class-Material/data/lesson01.csv" target="_self" class="download">data file in comma-separated-value format (lesson01.csv)</a> -- save this to the <strong>data</strong> subfolder</li>
<li>An&nbsp;<a href="https://cdn.jsdelivr.net/gh/QFCatMSU/GGPlot-Class-Material/scripts/lesson01-Setup.R" target="_self" class="download">R script file (lesson01-Setup.r)</a> -- save this to the <strong>scripts</strong> subfolder</li>
</ol>
<p></p>
<p>So you should have:</p>
<ul>
<li>A <strong>Root Folder</strong>, which I named <em><strong>GGPlotRoot </strong></em>(you can choose another name)</li>
<li>The file <strong>ClassProjectRubric.docx</strong> inside the <strong>Root Folder</strong></li>
<li>Two folders, <em><strong>data</strong> </em>and <em><strong>scripts</strong></em>, inside the <strong>Root Folder</strong><em><strong></strong></em></li>
<li>The file<strong> lesson01.csv</strong> inside the <em><strong>data</strong> </em>folder</li>
<li>The file <strong></strong><strong>lesson01-Setup.r </strong>inside the <em><strong>scripts</strong> </em>folder</li>
</ul>
<h3>Link RStudio to the Root Folder</h3>
<p>We are going to create an<strong> RStudio Project</strong> that is linked to the <strong>Root Folder</strong> you just created.&nbsp; The main purpose of the <strong>RStudio Project</strong> is to encapsulate all your work within the <strong>Root Folder</strong> and its subfolders.&nbsp;</p>
<p></p>
<p>To create an RStudio Project at the Root Folder (<em class="ref" id="r-existingWindow">fig ##</em>):</p>
<ol>
<li>In RStudio choose <em><strong>File</strong> </em>-&gt; <em><strong>New Project...</strong></em></li>
<li>In the <em><strong>Create Project</strong></em> window choose <em><strong>Existing Directory</strong></em></li>
<li>In the <em><strong>Create Project from Existing Directory</strong> </em>window click <em><strong>Browse</strong> </em></li>
<li>In the<em><strong> Choose Directory</strong></em> window navigate to your <strong>Root Folder</strong> and click <em><strong>Open</strong> </em>(in this example, <em><strong>GGPlotRoot</strong></em>)</li>
<li>In the <em><strong>Create Project from Existing Directory </strong></em>window click <em><strong>Create Project</strong></em></li>
</ol>
<p></p>
<p>&nbsp;<img src="../Images/GGP-01-01-NewProject.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="existingWindow">The Create Project from Existing Directory window</h5>
<h2>RStudio Project File Manager</h2>
<p>You should now be running RStudio, opened to the RStudio Project that you just created.&nbsp; If you click on the <em><strong>Files</strong> </em>tab in the lower-right corner, you will see all the folders and files within your RStudio Project (linked to your Root Folder).&nbsp; <span class="hl">The RStudio <strong>Files</strong> tab is essentially a File Explorer in Windows or Finder in Mac</span> (<em class="ref" id="r-filesTab">fig ##</em>) -- the <em><strong>Files</strong> </em>tab can be used to open, add, remove, or rename files and folders.&nbsp; &nbsp;&nbsp;</p>
<p></p>
<p><img src="../Images/GGP-01-01-FileManagers.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="filesTab">The Files tab and the File Explorer in Windows-- both show the same thing.<br><br></h5>
<p>A file was added by RStudio to your Root Folder called <em><strong>&lt;Root Folder&gt;.Rproj</strong></em>.&nbsp; If your File Explorer Window is setup to see hidden files, then you will also see a file named<em><strong> .RHistory</strong></em>. These are not files you will need to use right away but you can learn more about them at <em class="ref" id="r-extrafiles">Extension: Files Added by RStudio</em></p>
<h2>RStudio Basics</h2>
<p>In this section, we are going to execute the script file, <em><strong>lesson01.R</strong></em>, that we just downloaded to your RStudio Project's <em><strong>script</strong> </em>folder<em>.</em></p>
<p></p>
<p><em><strong>lesson01.R</strong></em> takes weather data from the other downloaded file,<em><strong> lesson01.csv</strong> </em>and creates boxplots showing how Wind Direction and Wind Speed relate to the Change In Temperature.&nbsp; The code in<em><strong> lesson01.R</strong></em> is something you will progressively learn throughout the course -- for now we are executing the script to test your setup and help you become familiar with the RStudio environment.</p>
<h3>Open your RStudio Project</h3>
<p>There are multiple ways to open an RStudio Project -- three of them are:</p>
<ul>
<li>Open your Root Folder in File Explorer (Windows) or Finder (MAC) window and double-click the <strong>*.proj</strong> file (where <strong>*</strong> is the name of your Project)</li>
<li>In RStudio, click <em><strong>File</strong> </em>-&gt;<em><strong> Open Project...</strong></em> -&gt; navigate to the Root Folder and click the <strong>*.proj</strong> file</li>
<li>In RStudio, click <em><strong>File</strong> </em>-&gt; <em><strong>Recent Projects</strong></em> -&gt; choose the RStudio Project you just created</li>
</ul>
<h3>Open a script file in your Project</h3>
<p>We are going to execute the script file that we downloaded earlier.&nbsp; To open the script file either:</p>
<ul>
<li>In <em><strong>Files</strong> </em>tab, go to the <em><strong>s</strong><strong><em>c</em>ripts</strong> </em>folder and click on <em><strong>lesson01.R </strong></em>or</li>
<li>In RStudio click <em><strong>File -&gt; Open File -&gt;</strong></em> and then find&nbsp; <em><strong>lesson01.R</strong></em> in the <em><strong>scripts</strong> </em>folder and click <em><strong>Open</strong></em>.&nbsp;</li>
</ul>
<p></p>
<p>After opening the script file, you should see something that looks like this (<em class="ref" id="r-first">fig ##</em>) on your screen:</p>
<p><img src="../Images/GGP-01-01-FirstScript.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="first">Opening your first script in RStudio</h5>
<h3>Setting up RStudio tabs for scripts</h3>
<p>When we are editing and executing an R script, we generally have the following RStudio tabs open (<em class="ref" id="f-tabs">fig ##</em>):</p>
<ol>
<li><strong>File Viewer </strong>-- text viewer and editor for the opened script files (upper-left corner)</li>
<li><strong>Console</strong> -- displays information about the execution of your script file (lower-left corner)</li>
<li><strong>Environment </strong>-- displays data points, or variables, from the execution of your script file (upper-right corner)</li>
<li><strong>Plots</strong> -- plots produced by the execution of your script file are displayed here (lower-right corner)</li>
</ol>
<p></p>
<p>The fourth (lower-right corner) window is on <em><strong>Files</strong></em>, so we switched the tab <em></em>to <em><strong>Plots</strong></em>:</p>
<p><img src="../Images/GGP-01-01-RStudioTabs.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="tabs">The Tabs most commonly used in RStudio</h5>
<p></p>
<p><em class="note">Note: the <strong>Help</strong> tab in the lower-right corner is something you might find useful.&nbsp;</em> <em class="ref" id="r-help">Extension: The Help Tab</em></p>
<h3>Common buttons used in RStudio</h3>
<p>The script file,<em><strong> lesson01.r</strong></em>, is a fully functioning script that takes temperature and wind data from the Comma Separated Value (CSV) file, <em><strong>lesson01.csv</strong></em>, and plots out the data -- the code will be explained later. I am going to use this program to demonstrate a few of the useful buttons in RStudio.</p>
<p></p>
<p>The one button you will use most in R is <em><strong>Source</strong></em>, which executes your whole script.&nbsp; Press the <em><strong>Source</strong> </em>button to execute the script (<em class="ref" id="f-running">fig ##</em>).&nbsp;</p>
<p></p>
<p><em class="note">Note: If you have already used R, there is a good chance you highlight lines of code and click <strong>Run</strong> to execute just those lines.&nbsp; We are not using this method in this class.&nbsp; For this class, you should always use Source to execute your code.</em> &nbsp; For more information go to <em class="ref" id="r-run-source">Extension: Run vs. Source.</em></p>
<p></p>
<p><img src="../Images/GGP-01-01-Source.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="running">Running (Sourcing) the script</h5>
<p></p>
<p>After the script is run:</p>
<ul>
<li>The<strong> Environment Window</strong> displays values for the data (variables) in the script (e.g., <em><strong>weatherData</strong></em>, <em><strong>windLabels</strong></em><em><strong></strong></em>).</li>
<li>The<strong> Console Window</strong> displays information about the execution of the script.</li>
<li>The<strong> Plot Window</strong> displays the box plots.&nbsp; If there are multiple plots, you can use the arrow buttons to switch between the plots.</li>
</ul>
<h3>Cleaning up the RStudio windows</h3>
<p>There many times where you want to clean up the windows, which can get very crowded with information from old script executions.</p>
<ul>
<li>To clean the <strong>Environment,</strong> <strong>Plot</strong>, and <strong>Console</strong> <strong>Windows</strong> use the brush button (<em class="ref" id="f-clean">fig ##</em>).</li>
</ul>
<p></p>
<p><img src="../Images/GGP-01-CleanWindows.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="clean">Cleaning out the windows</h5>
<p></p>
<p>If you click <em><strong>Source </strong></em>again, the <strong>Environment, Plot,</strong> and <strong>Console Windows</strong> will once again be populated with data from the script.</p>
<h2>Special note about images in the lessons for this class</h2>
<p>RStudio is a rapidly evolving program and it would be too much work to maintain all the images so that they reflect the visual likeness of the newest version of RStudio.&nbsp; Most of the images in this class will reflect the 2018 version of RStudio (v1.1) but changes to the images are often made and they will probably be made with a different version of RStudio.&nbsp; I have tried to make sure these differences change nothing functionally.&nbsp; Inevitably, something will fall through the cracks -- so, please, contact the instructor if there is something inconsistent causing issues!</p>
<h2>Your first programming topic: Spacing Code</h2>
<p>In GGPlot, you create a plot by initializing a GGPlot canvas, with <em><strong>ggplot()</strong></em>, and then add components (e.g., a boxplot) to the canvas.&nbsp; Most components will, in turn, have subcomponents, (e.g., color or width).</p>
<p></p>
<p><em class="ref" id="f-spacing">Fig ##</em> shows a plot that has:</p>
<ul>
<li>A function to initialize GGPlot -- highlighted in blue</li>
<li>Five components -- highlighted in yellow&nbsp;</li>
<li><strong>+</strong> to "add" components to the canvas -- highlighted in green</li>
<li>10 subcomponents -- highlighted in red</li>
</ul>
<p></p>
<p><img src="../Images/GGP-01-01-PlotComponents.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="spacing">Spacing code to emphasize the different components of a plot</h5>
<h3>Component and subcomponent spacing</h3>
<p>We will be going over the code in <em class="ref" id="f-spacing">fig ##</em> in much more detail in later lessons.&nbsp; For now, we are going to focus on the spacing.&nbsp; As you can see in <em class="ref" id="r-poorspacing">fig ##</em>, <em class="hl">the code for a plot can quickly get unwieldy</em> -- that is why it is important to consider code spacing from the very beginning.&nbsp; For this class, all components and subcomponents on a GGPlot will get its own line of code.&nbsp; This is also a requirement of your Class Project as it makes the code much easier to read.</p>
<p></p>
<p><img src="../Images/GGP-01-BadCode.jpg" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="poorspacing">Poorly spaced code -- it works but it is too hard to read!</h5>
<h3>GGPlot Functions are components</h3>
<p>The components of a GGPlot are really the <a href="https://ggplot2.tidyverse.org/reference/" target="_blank" rel="noopener">functions in the GGPlot package</a>.&nbsp; The subcomponents are the parameters of those functions.&nbsp;</p>
<p></p>
<p>One component (i.e., function) in the GGPlot package is <a href="https://ggplot2.tidyverse.org/reference/labs.html" target="_blank" rel="noopener"><em><strong>labs()</strong></em></a>, which is the labeling component in GGPlot. <em><strong>labs()</strong></em> has multiple subcomponents (i.e., parameters) representing the different parts of the plot that can be labelled.&nbsp; <em><strong>labs()</strong></em> was used in <em class="ref" id="c-spacing">fig ##</em> to add a <em><strong>title</strong> </em>and <em><strong>subtitle</strong> </em>and <em><strong>x</strong></em>-axis and <em><strong>y</strong></em>-axis labels. It looks like this:</p>
<p></p>
<h6 class="nn"># component (function) labs() with four subcomponents (parameters) being modified</h6>
<h6 class="nn">labs(title = "Change in Temperature vs. Wind Direction",<br>&nbsp;&nbsp;&nbsp;&nbsp; subtitle = "Lansing, Michigan: 2016",<br>&nbsp;&nbsp;&nbsp;&nbsp; x = "Wind Direction",<br>&nbsp;&nbsp;&nbsp;&nbsp; y = "Degrees (Fahrenheit)")</h6>
<p></p>
<p>In this class, we will refer to <em><strong>labs()</strong></em> as a component and <em><strong>title</strong></em>, <em><strong>subtitle</strong></em>, <em><strong>x</strong></em>, and <em><strong>y</strong></em> as subcomponents.</p>
<h2>How to make comments in R</h2>
<p>In the R language, comments are created using the number-sign ( <em><strong>#</strong></em> ) key.&nbsp; Any text on the line after the (<em><strong> #</strong></em> ) will be treated by R as a comment and it will not be executed. In <em class="ref" id="f-comments">fig ##</em>, there are comments on lines 9, 12, 15, 18, etc.&nbsp; These comments are colored light green but the color of the comments depends on your color scheme (next section).</p>
<p></p>
<p><img src="../Images/GGP-01-01-Comments.PNG" alt="Comments in lighter green" class="flexSize"></p>
<h5 class="" id="comments">Comments are in the lighter green color</h5>
<p></p>
<p><span class="hl">You are required to make use of comments for your project in this class.</span>&nbsp; Aside from being a good practice, it significantly reduces the frustration level of people who are trying to evaluate your work! Commenting also significantly reduces the frustration you will feel when trying to read your own code after an extended absence.</p>
<h2>Color Schemes</h2>
<p class="">If you just installed RStudio and are using the default color scheme then it probably looks like <em class="ref" id="f-comments">fig ##</em>.&nbsp; In this color scheme the comments are in a lighter green whereas most of the other text is in black.</p>
<p></p>
<p>I am not a big fan of the default color scheme in RStudio.&nbsp; It does not create enough differentiation between the different components of a script.&nbsp; For instance, comments (red arrows) are in green and quoted items (blue arrows) are in just a slightly different green (<em class="ref" id="f-quote">fig ##</em>).</p>
<p></p>
<p><img src="../Images/GGP-01-01-CommentsVsQuotes.png" alt="Comment and quote coloring" class="flexSize"></p>
<h5 class="" id="quote">The text color for comments and quotes</h5>
<h3>Changing the color scheme</h3>
<p>A good color scheme can really help a programmer by allowing them to quickly identify parts of a script and common errors, like misplaced quotes.&nbsp;</p>
<p></p>
<p>RStudio offers many color schemes -- you can change the color scheme by:</p>
<ol>
<li>clicking on <em><strong>Tools</strong> </em>in the main menu (circled in <em class="ref" id="f-schemes">fig ##</em>)</li>
<li>choose <em><strong>Global Options</strong></em></li>
<li>When the <em><strong>Global Options</strong></em> window open (in <em class="ref" id="f-schemes">fig ##</em>), click on <em><strong>Appearance</strong></em></li>
</ol>
<p></p>
<p><img src="../Images/GGP-01-01-ColorScheme.PNG" alt="Color Schemes" class="flexSize"></p>
<h5 class="" id="schemes">Color schemes for RStudio (note: the Editor font might be different in your window -- that is OK)</h5>
<p></p>
<p>The image above shows the <span class="hl">Xcode</span> color scheme (<em class="ref" id="f-schemes">fig ##</em>).&nbsp; I prefer <strong>Xcode</strong> because it does a good job differentiating the different aspects of the script. Notice how the comments (in green) are now clearly distinguished from the quotes (in red).</p>
<p></p>
<p>You can choose from around 20 themes in the <strong>Editor theme</strong> window and you can change the theme anytime without affecting anything else.</p>
<h3 class="">Adding more color to differentiate output</h3>
<p>There are a couple more helpful options in RStudio that use color to distinguish components of your code and the output in the Console Window<strong></strong>.&nbsp;</p>
<p></p>
<p>To make these changes go to <em><strong>Tools -&gt; Global Options... -&gt; Code -&gt; Display</strong></em> and check the following boxes:</p>
<ul>
<li><span class="hl">Show syntax highlighting in console input</span></li>
<li><span class="hl">Highlight R function calls</span></li>
</ul>
<p></p>
<p><img src="../Images/GGP-01-01-ConsoleWindow.PNG" alt="" class="flexSize"></p>
<h5 class="" id="console">Console Window changes</h5>
<h2>Stop RStudio from automatically adding matching parenthesis and quotes</h2>
<p>Finally, a common complaint I have gotten from my students is they hate the way RStudio tries to be "helpful" by automatically adding matching parenthesis or quotes when the user types in a parenthesis or start quote.&nbsp;</p>
<p></p>
<p>You can turn off this feature by:</p>
<ul>
<li>going to <em><strong>Tools -&gt; Global Options... -&gt; Code&nbsp; -&gt; Editing</strong></em></li>
<li>uncheck <em class="hl">Insert matching parens/quotes</em></li>
<li>set <strong>Surround selection on text insertion</strong> to <em><strong>Never</strong></em></li>
</ul>
<p></p>
<p><img src="../Images/GGP-01-01-EndParensQuotes.PNG" alt="" class="fs"></p>
<h5>Stop RStudio from automatically ending your parenthesis and quotes.</h5>
<h2>Application</h2>
<ol>
<li>In your RStudio Project, create a new script file (<em><strong>File</strong> </em>-&gt; <em><strong>New File</strong></em> -&gt; <em><strong>R Script</strong></em>)</li>
<li>Copy and paste this lesson's script, <em><strong>lesson01.r</strong></em>, to the new script.</li>
<li>Change the colors in the boxplot (edit lines 17-21)
<ul>
<li>Here is a <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf" target="_blank" rel="noopener">comprehensive list of color names</a> you can use in R</li>
</ul>
</li>
<li>Save the script as <em><strong>app01.r</strong></em>, and to your <em><strong>script</strong> </em>folder</li>
<li>Zip you Root Folder (instructions for Windows and Mac below)</li>
<li class=""><em class="email">Email the zipped Root Folder to your instructor</em></li>
</ol>
<p></p>
<p><strong>Windows: Zip your Root Folder</strong> (<em class="ref" id="c-zipFolder">fig ##</em>)<strong>:</strong></p>
<ol>
<li>In your File Manager (not in RStudio), right-click on the Root Folder</li>
<li>Choose <em><strong>Send to</strong></em></li>
<li>Choose <em><strong>Compressed (zipped) folder</strong></em></li>
<li>A zipped file named <em><strong>&lt;Root Folder&gt;.zip</strong></em> is created with all the contents of the Root Folder</li>
</ol>
<p></p>
<p><img src="../Images/GGP-01-01-ZipFolder.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 class="" id="zipFolder">Zipping your Class Folder on Windows -- in this case the zipped file created is named <strong>GGPlot</strong><em><strong>Root.zip</strong></em></h5>
<p><em><strong></strong></em></p>
<p><strong>Mac: Zip your Root Folder:</strong></p>
<ol>
<li>In your File Manager (not in RStudio), right-click on the Root Folder</li>
<li>Choose <em><strong>Compress "&lt;Root Folder&gt;"</strong></em></li>
<li>A zipped file named <em><strong>&lt;Root Folder&gt;.zip</strong></em> is created with all the contents of the Root Folder</li>
</ol>
<h2 class="extension">Extension: Working directories in R and RStudio</h2>
<p>This topic is, in this author's opinion, the most frustrating topic in R.&nbsp; This is a topic that can generally be hidden from new programming students but the unique way R handles working directories makes it complex to share projects.</p>
<p></p>
<p><em class="hl">A working directory is the folder location used when one file is looking for another file.</em>&nbsp; It is best shown by its use-case: a script file that is reading in information from another file -- this file can be a data file or another script file.&nbsp;</p>
<p></p>
<p>For example, let's say we have a script file called <em><strong>weather.r</strong></em> and it is pulling in data from the file <em><strong>weather2020.csv</strong></em>.&nbsp; <em><strong>weather.r</strong></em> needs to first find the folder location for <em><strong>weather2020.csv</strong></em> before it can access the file.&nbsp; To do this, <em><strong>weather.r</strong></em> needs a path to <em><strong>weather2020.csv</strong></em>.&nbsp; This path can be thought of as map directions between two points -- and the working directory is the starting point.&nbsp;</p>
<p></p>
<p>For the vast majority of programming languages, there is no concept of a working directory.&nbsp; The process of files calling other files works like google maps -- a route is specified between the two files starting with the folder the caller (e.g., weather.r) is in and ending where the callee (e.g., weather.csv) is. The path between the two files is called a <em class="hl">relative file path</em>.&nbsp;</p>
<h3>R's default handling of working directories (it is not good...)</h3>
<p>In R, the starting point, or working directory, is fixed for all R files opened in a session (called a session variable).&nbsp; Using the google maps analogy, this is like saying the map starting point is fixed for everyone -- it does not matter where you actually are located.&nbsp; You can change the working directory in your script using <em><strong>setwd()</strong> </em>but <em class="hl">this changes the working directories for all R files</em> in the session.&nbsp; In other words, you are simply changing the starting point to a new location and all files will now use that location.</p>
<h3>Absolute file paths (a bad fix to the problem)</h3>
<p>One way to get around working directories is to use an absolute file path.&nbsp; So, instead of mapping between <em><strong>weather.R</strong></em> and <em><strong>weather.csv</strong></em>, you just give the file path for weather.csv on your computer (called the absolute file path).&nbsp;</p>
<p></p>
<p>This will look something like: <em><strong>c:\Users\RStudent\Documents\WeatherProj\Data\weather.csv</strong></em></p>
<p></p>
<p>Doing this means you do not have to worry about working directories.&nbsp; But this solution breaks as soon as you move files on your computer or move them to another computer.&nbsp; The reason is that the file path changes.&nbsp; Absolute file paths make it almost impossible to share file and should not be used.</p>
<h3>How RStudio Projects handle working directory (the least-worst option)</h3>
<p>An RStudio Project sets the working directory as the root folder of the project.&nbsp; So, for <em><strong>weather.r</strong></em> to find <em><strong>weather.csv</strong> </em>inside an RStudio Project, it just needs to know where <em><strong>weather.csv</strong></em> is located relative to the root folder.&nbsp; Most likely this will be something like: <em><strong>Data\weather.csv</strong></em>. This makes it far easier to share your project because the path to <em><strong>weather.csv</strong> </em>will be the same on any computer.</p>
<p></p>
<p>While I believe this is by far the best method for handling working directory issues, it comes with a major caveat: <em class="hl">You need to open script files from within the RStudio Project</em>.&nbsp; Opening the project sets the working directory for all script files used in the session.&nbsp; If you a file outside of the Project session, then the working directory is not set by the project.</p>
<h3>The default working directory</h3>
<p>A working directory is not defined for a file, it is defined for a session.&nbsp; So, all files within that session will have the same working directory.&nbsp; IF you change the working directory in one file, you change it for every file within the session.&nbsp; This leads to awkward behavior where one R file can change the behavior of another R file within the same session by using <em><strong>setwd()</strong></em>.</p>
<p></p>
<p>RStudio Projects are an R session.&nbsp;</p>
<h2 class="extension" id="packages">Extension: Different ways to install packages</h2>
<p>Here are three different ways in RStudio to install packages used in your script</p>
<h3>Use the RStudio menu</h3>
<p>To install packages<em><strong> </strong></em>using the RStudio menu:</p>
<ol>
<li>Click <em><strong>Tools</strong> </em>-&gt;<em><strong> Install Packages...</strong></em></li>
<li>In the <em><strong>Install Packages</strong></em> window, type the package<strong></strong> name in the <em><strong>Packages</strong> </em>textbox (RStudio will give suggestions based on what you have typed)</li>
<li>Click <em><strong>Install</strong></em></li>
</ol>
<h3>Use the Console tab</h3>
<p>In R, we can install packages using<em><strong> install.packages()</strong></em>.&nbsp; So, if you wanted to install GGPlot2, you would type:</p>
<h6 class="nn">install.packages("GGPlot2")</h6>
<p>The Console Window in RStudio is an R interface, and you could type in the above line to install the <em><strong>GGPlot2</strong> </em>package.</p>
<p></p>
<p><img src="../Images/GGP-01-01-UsingConsole.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5>Using the RStudio Console to install a package</h5>
<h3>Have RStudio install the packages</h3>
<p>RStudio looks through your script and will prompt you to install packages used in your script that you do not have installed. With a click, RStudio installs all needed packages and dependencies.</p>
<p></p>
<p><img src="../Images/RStudioProj_InstallPAckages.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5>RStudio looking for packages needed by the script-- click <strong>Install</strong> and RStudio installs the required package(s)</h5>
<h2 class="extension" id="help">Extension: The Help Tab</h2>
<p>The Help Tab is essentially an intelligent online search through the R documentation.&nbsp; So, if you type <strong>plot</strong> in the search bar and hit enter, the R plot help page from the online documentation will appear.&nbsp; <em class="note">Note: you could have done the same thing by typing <strong>?plot</strong> in the <strong>Console Window.</strong></em></p>
<p></p>
<p><img src="../Images/GGP-01-01-HelpWindow.PNG" alt="" class="fs"></p>
<h5 class="" id="plotHelp">The R plot help page in the online documentation.</h5>
<p></p>
<p>The page that appears in the <strong>Help Window</strong> (<em class="ref" id="f-plotHelp">fig ##</em>) is this page: <a href="https://stat.ethz.ch/R-manual/R-devel/library/graphics/html/plot.html" target="_blank" rel="noopener noreferrer">https://stat.ethz.ch/R-manual/R-devel/library/graphics/html/plot.html</a></p>
<p></p>
<p><span class="hl">https://stat.ethz.ch</span> is where the official documentation for R is located.&nbsp; So, you will see this website appear quite often when you do an internet search for something R related.</p>
<h2 class="extension" id="run-source">Extension: Run vs. Source</h2>
<p>Technically speaking, the difference between <em><strong>Run</strong> </em>and <em><strong>Source</strong> </em>is:</p>
<ul>
<li><em><strong>Source</strong> </em>will execute all the code in a script file.</li>
<li><em><strong>Run</strong> </em>will execute only the line that the cursor is on or all lines that are highlighted.</li>
</ul>
<p></p>
<p>The real difference lies in a historical discussion of scripting vs. programming, which is a discussion beyond this class.&nbsp; Suffice to say, R was originally intended to be more like an advanced calculator than a programming language. The script files would contain multiple lines of code that could be execute independently and in any order (think of these as buttons on a calculator).&nbsp; The user could click a "button" to pull in data, click another "button" to run statistical analysis on the data, and click a third "button" to output the analysis.&nbsp; This is what the <em><strong>Run</strong> </em>button does.</p>
<p></p>
<p>However, as R has grown, the focus has shifted towards developing well-structured code just like any modern programming language (e.g., Visual Basic, C, Java).&nbsp; <em class="hl">This means executing the script as a whole instead of in parts.</em>&nbsp; This is what <em><strong>Source</strong> </em>does.&nbsp; Executing your script as a whole instead of in parts has many advantages as the code is easier to debug, easier to share, and much better organized -- because you are forced to organize it. In the not-so-humble opinion of this author, learning to treat your script as a whole is a vital part of learning how to program.&nbsp; For this reason, we will always be using the <em><strong>Source</strong> </em>button in this class.&nbsp;</p>
<h2 class="extension" id="standalone">Extension: Create a standalone R script</h2>
<p>There are two ways to create script file in RStudio:</p>
<ol>
<li>A standalone script</li>
<li>As part of an RStudio Project</li>
</ol>
<p></p>
<p>Many people use the first method.&nbsp; In this class we exclusively use the second method.&nbsp; The first method of creating a script file is good if you want to test something out.&nbsp; The second method is far better for organizing larger projects or sharing your code with others.&nbsp;</p>
<p></p>
<p>The reason the second method is better is because a project consist of many file that need to talk each-other.&nbsp; Script files will call other scripts file or read in data from data files.&nbsp; In order to makes this work, the script files need to know how to find the other files. In an RStudio Project, this is easy because the working directory is always the Root Folder of your project -- and all files in the project are contained within the Root Folder.&nbsp; So, you just need to look for the file relative to the Root Folder.</p>
<p></p>
<p>R Programmers often get around the lack of a Root Folder/defined working directory by setting the working directory in code using <em><strong>setwd()</strong></em>.&nbsp; This can work locally but becomes problematic when files are shared or moved.&nbsp; Whereas, RStudio Project always maintain their folder structure.</p>
<h2 class="extension" id="extrafiles">Extension: *.RProj and .Rhistory (hidden files in your Root Folder)</h2>
<p>The <em><strong>*.RProj</strong></em> file (where * is the name of your project) stores basic information about your project -- you do not need to edit this file. In your file manager, double-clicking <em><strong>*.RProj</strong></em> opens the RStudio Project.&nbsp; Inside RStudio, clicking on <em><strong>*.RProj</strong></em> brings up the Project Options window (<span id="r-powindow" class="ref">fig ##</span>), which you can also get to by clicking on <em><strong>Tools -&gt; Project Options.&nbsp; </strong></em><em><strong><br><br></strong></em></p>
<p><img src="../Images/GGP-01-01-ProjectOptionsWindow.PNG" alt="" style="max-width: 100%;" data-d2l-editor-default-img-style="true" class="fs"></p>
<h5 id="powindow">Project Options window</h5>
<p></p>
<p>The <em><strong>.Rhistory</strong></em> file stores commands and information from the <em><strong>Console Window</strong></em> (bottom-left corner).&nbsp; For this class, you will not need to use the <em><strong>.Rhistory</strong></em> file.&nbsp;</p>
<h2 class="" id="versionChanges">R version changes</h2>
<p>I will put major changes from 3.x to 4.x here as I find them.&nbsp; Right now I only have 1...</p>
<h3>stringsAsFactors now defaults to FALSE</h3>
<p>The one big functional change I have noticed in version 4.X is that string columns in a data frame are no longer by default treated as a factor (i.e., a categorical variable) -- they are kept as strings.&nbsp; In this lesson's script, there is a line:</p>
<h6>weatherData = read.csv(file="data/lesson01.csv");</h6>
<p></p>
<p>In R 3.X, the non-numeric columns in <em><strong>lesson01.csv</strong></em> would be treated as factors by default, in R 4.X they are treated as strings.&nbsp; If you want the old behavior, you need to change the code to:</p>
<h6>weatherData = read.csv(file="data/lesson01.csv",</h6>
<h6>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stringsAsFactors = TRUE);</h6>
</body></html>